<div class="caixa-lista">
  <h1>Filmes e Séries cadastradas</h1>
  <table class="table table-striped-columns">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th>Titulo</th>
        <th>Genero</th>
        <th>Ano de Lançamento</th>
        <th>Descrição</th>
        <th>Tipo</th>
        <th>Opções</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let filme of filmes; let i = index">
        <th scope="row">{{ i }}</th>
        <td>{{ filme.titulo }}</td>
        <td>{{ filme.genero }}</td>
        <td>{{ filme.anoLancamento }}</td>
        <td>{{ filme.descricao }}</td>
        <td>{{ filme.tipo }}</td>
        <td>
          <i
            class="bi bi-pencil-fill"
            (click)="selecionarParaEditar(filme)"
          ></i>
          <i
            class="bi bi-trash2-fill"
            (click)="selecionarParaApagar(filme)"
          ></i>
        </td>
      </tr>
    </tbody>
  </table>
  <button type="button" routerLink="/addFilme" class="btn btn-secondary">
    Adicionar Filme
  </button>
</div>

<div class="div-exclusao" *ngIf="formularioExcluir == true">
  <h3>
    Deseja exluir o filme <strong>{{ filmeSelecionado.titulo }}</strong> ?
  </h3>
  <div>
    <button
      type="button"
      class="btn btn-success"
      (click)="excluirFilme(filmeSelecionado)"
    >
      Excluir
    </button>
    <button type="button" (click)="cancelar()" class="btn btn-danger">
      Cancelar
    </button>
  </div>
</div>

<div class="div-alterar" *ngIf="formularioEditar == true">
  <form (ngSubmit)="onSubmit(filmeSelecionado)" #filmeForm="ngForm">
    <h3>
      Alterar filme : <strong>{{ filmeSelecionado.titulo }}</strong> ?
    </h3>
    <div class="form-group">
      <label for="titulo">Título</label>
      <input
        type="text"
        class="form-control"
        id="titulo"
        name="titulo"
        [(ngModel)]="filmeSelecionado.titulo"
        placeholder="Título do filme"
        required
      />
    </div>
    <div class="form-group">
      <label for="genero">Gênero</label>
      <input
        type="text"
        class="form-control"
        id="genero"
        name="genero"
        [(ngModel)]="filmeSelecionado.genero"
        placeholder="Gênero do filme"
        required
      />
    </div>
    <div class="form-group">
      <label for="lancamento">Ano de lançamento</label>
      <input
        type="text"
        class="form-control"
        id="lancamento"
        name="lancamento"
        [(ngModel)]="filmeSelecionado.anoLancamento"
        placeholder="Ano de lançamento"
        required
      />
    </div>
    <div class="form-group">
      <label for="descricao">Descrição</label>
      <input
        type="text"
        class="form-control"
        id="descricao"
        name="descricao"
        [(ngModel)]="filmeSelecionado.descricao"
        placeholder="Descrição do filme"
        required
      />
    </div>
    <div class="form-group">
      <label for="tipo">Tipo</label>
      <input
        type="text"
        class="form-control"
        id="tipo"
        name="tipo"
        [(ngModel)]="filmeSelecionado.tipo"
        placeholder="Filme ou Série"
        required
      />
    </div>
    <button type="submit" class="btn btn-primary">Salvar</button>
    <button type="button" (click)="cancelar()" class="btn btn-danger">
      Cancelar
    </button>
  </form>
</div>
